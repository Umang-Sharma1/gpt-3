(window.webpackJsonp=window.webpackJsonp||[]).push([[256,29],{1369:function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return n}));var o=[{label:"Red",name:"red",text:"Energy, passion, love",value:"#ff0000",colorDisplay:"#d01615",shades:["#ffbaba","#ff7b7b","#ff5252","#ef3636","#fc1919","#d90202","#b80202","#8f0000"]},{label:"Orange",name:"orange",text:"Fun, vibrant, youthful",value:"#ff7f00",colorDisplay:"#f38a24",shades:["#fccc9d","#feae50","#ff9e03","#ff8201","#ff8303","#fe6e00","#fd5602","#fd3c02"]},{label:"Yellow",name:"yellow",text:"Bright, cheerful, full of joy",value:"#ffff00",colorDisplay:"#f7ee6b",shades:["#fdfbdf","#ffeaa2","#fce16d","#fcd639","#ffe505","#ffc905","#ffb805","#ffa505"]},{label:"Green",name:"green",text:"Growth, health, wealth",value:"#00ff00",colorDisplay:"#7fc37e",shades:["#f5f8cc","#eef78f","#bdca89","#588960","#8cb441","#689534","#42531b","#163922"]},{label:"Blue",name:"blue",text:"Strength, power, reliability",value:"#0000ff",colorDisplay:"#00529c",shades:["#eaf9ff","#98ddfc","#74d0db","#43a9b5","#61aff7","#3e88ef","#1d6aef","#0836c1"]},{label:"Purple",name:"purple",text:"Mysterious, luxurious, spiritual",value:"#800080",colorDisplay:"#352961",shades:["#efbbff","#c57fef","#b41de3","#8608c9","#c3aae6","#7c57ba","#7423ff","#4f06a7"]},{label:"Pink",name:"pink",text:"Love, compassion, playful",value:"#ffc0cb",colorDisplay:"#de7ddc",shades:["#fae7f3","#ff7ec4","#f556ad","#fd1a97","#df94cd","#ea6cb3","#d61d85","#b5116e"]},{label:"Brown",name:"brown",text:"Honesty, comfort, stability",value:"#964b00",colorDisplay:"#925840",shades:["#f0af75","#d2691e","#933709","#5d1916","#a3561c","#844b20","#51321b","#2d150a"]},{label:"Greyscale",name:"greyscale",text:"Honesty, comfort, stability",value:"#808080",colorDisplay:"#f0f0f0",shades:["#f8f8f8","#e6e6e6","#d6d6d6","#87939f","#817979","#5a5a5d","#282821","#0b0909"]}],n="#ffffff",l="#000000"},1400:function(e,t,r){var content=r(1446);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(125).default)("5d344767",content,!0,{sourceMap:!1})},1445:function(e,t,r){"use strict";r(1400)},1446:function(e,t,r){var o=r(124)((function(i){return i[1]}));o.push([e.i,".pill.active[data-v-5616d963]{transform:translateX(calc(100% - .25rem))}",""]),o.locals={},e.exports=o},1454:function(e,t,r){"use strict";var o=r(234),n=r.n(o),l=r(230),c=r(168),d={components:{InformationCircle:n.a,Tippy:l.a,Skeleton:c.a},props:{showLabels:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},layout:{type:String,default:"right"},description:{type:String,default:""},active:{type:Boolean,default:!1},tippy:{type:String,default:""},label:{type:String,default:""},showLabelLoader:{type:Boolean,default:!1},labelLoaderHeight:{type:String,default:"h-4"},labelLoaderWidth:{type:String,default:"w-44"},labelLoaderClass:{type:String,default:""}}},f=(r(1445),r(9)),component=Object(f.a)(d,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"inline-flex items-center gap-3",class:{"pointer-events-none opacity-50":e.disabled,"flex-row-reverse":"left"===e.layout,"w-full":e.tippy}},[t("button",{staticClass:"p-0.5 relative appearance-none inline-flex flex-shrink-0 rounded-full border border-gray-200 cursor-pointer focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",class:[e.showLabels?"w-16":"w-10"],attrs:{type:"button","aria-pressed":"false","aria-labelledby":"toggleLabel",disabled:e.disabled},on:{click:function(t){return e.$emit("toggle")}}},[t("span",{staticClass:"sr-only"},[e._v("Toggle "+e._s(e.label))]),e._v(" "),t("span",{staticClass:"pill rounded-full shadow ring-0 transition ease-in-out duration-200",class:[{active:e.active},"bg-enterprise-primary",e.showLabels?"h-8 w-8":"h-5 w-5"],attrs:{"aria-hidden":"true"}}),e._v(" "),e.showLabels?t("div",{staticClass:"absolute z-1 p-0.5 inset-0 grid grid-cols-2 items-center text-center leading-none text-xs text-white"},[t("span",{staticClass:"pt-px",class:e.active?"text-gray-300":"text-white"},[e._v("\n        Off\n      ")]),e._v(" "),t("span",{staticClass:"pt-px",class:e.active?"text-white":"text-gray-300"},[e._v("\n        On\n      ")])]):e._e()]),e._v(" "),e.label||e.description?t("label",{staticClass:"relative label w-full mb-0",class:{"pr-5":e.tippy},attrs:{id:"toggleLabel"}},[e.label?t("span",{staticClass:"text-sm font-medium"},[e._v("\n      "+e._s(e.label)+"\n    ")]):e._e(),e._v(" "),e.description?t("span",{staticClass:"text-sm text-gray-500"},[e._v("\n      "+e._s(e.description)+"\n    ")]):e._e(),e._v(" "),t("Tippy",{staticClass:"absolute right-0 top-0 bottom-0 h-full flex items-center leading-none",attrs:{content:e.tippy}},[t("InformationCircle",{staticClass:"inline-block w-4 h-4"})],1)],1):e._e(),e._v(" "),e.showLabelLoader?t("Skeleton",{class:[e.labelLoaderHeight,e.labelLoaderWidth,e.labelLoaderClass]}):e._e()],1)}),[],!1,null,"5616d963",null);t.a=component.exports},1509:function(e,t,r){var content=r(1592);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(125).default)("3a1bb42e",content,!0,{sourceMap:!1})},1529:function(e,t,r){"use strict";r(27),r(54),r(51);var o=r(240),n=r.n(o),l=r(601),c=r.n(l),d=r(1369),f={components:{CircleIcon:n.a,CheckIcon:c.a},props:{showClearButton:{type:Boolean,default:!0},selected:{type:Array,default:function(){return[]}},layoutClass:{type:String,default:"flex items-center flex-wrap gap-2"}},data:function(){return{hues:d.c}},methods:{isSelected:function(e){return this.selected.includes(e)}}},h=r(9),component=Object(h.a)(f,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex items-center leading-none"},[e.showClearButton&&e.selected.length?t("button",{staticClass:"w-6 h-6 mr-1.5 mb-1 cursor-pointer flex-shrink-0 appearance-none focus:outline-none",attrs:{type:"button"},on:{click:function(t){return e.$emit("clear")}}},[t("span",{staticClass:"sr-only"},[e._v("Clear")]),e._v(" "),t("CircleIcon")],1):e._e(),e._v(" "),t("div",{class:e.layoutClass},e._l(e.hues,(function(r){var o=r.name,n=r.value;return t("button",{key:o,staticClass:"btn btn-naked w-9 h-9 p-1.5 cursor-pointer appearance-none flex items-center justify-center rounded border border-gray-100 focus:outline-none",class:{"border-enterprise-primary":e.isSelected(o)},style:{backgroundColor:n},attrs:{id:"ideas-palette-filter-".concat(o),type:"button"},on:{click:function(t){e.isSelected(o)?e.$emit("remove",o):e.$emit("select",o)}}},[t("span",{staticClass:"sr-only"},[e._v(e._s(o))]),e._v(" "),e.isSelected(o)?t("div",{staticClass:"w-full bg-black bg-opacity-25 rounded-full p-0.5"},[t("CheckIcon",{staticClass:"text-white"})],1):e._e()])})),0)])}),[],!1,null,null,null);t.a=component.exports},1551:function(e,t,r){"use strict";r(16),r(15),r(13),r(18),r(19);var o=r(3),n=(r(86),r(241),r(49),r(26),r(48),r(61),r(34)),l=r(1454),c=r(12),d=r(230);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a={components:{Lightswitch:l.a,Tippy:d.a},computed:h({active:function(){return"default"!==this.value&&this.value},enabled:function(){return this.flags.enable_template_options},hasSlogan:function(){return!!this.editor.logo_preset.slogan},supportsMultiColor:function(){var e=this.editor.logo_preset.palette_hex,t=e.primary,r=e.secondary,o=e.accent;return new Set([t,r,o]).size>=2}},Object(n.e)(["editor","session","flags"])),methods:h(h({sendEvents:function(e,t){this.fetchNewLogoFromState(),c.a.$emit(c.b.EcommerceSelectContent,{type:e,id:t})},supportsMultiLine:function(e){return(e||"").trim().split(" ").length>1}},Object(n.b)({fetchNewLogoFromState:"editor/fetchNewLogoFromState"})),Object(n.d)({SET_WORDMARK_MULTICOLOR:"editor/SET_WORDMARK_MULTICOLOR",SET_WORDMARK_MULTILINE:"editor/SET_WORDMARK_MULTILINE",SET_SLOGAN_MULTICOLOR:"editor/SET_SLOGAN_MULTICOLOR",SET_SLOGAN_MULTILINE:"editor/SET_SLOGAN_MULTILINE"}))}},1591:function(e,t,r){"use strict";r(1509)},1592:function(e,t,r){var o=r(124)((function(i){return i[1]}));o.push([e.i,".preview-svg svg{border-radius:.25rem;width:91.666667%}.logo-element-hover-target{cursor:pointer;stroke-width:2;fill:transparent}.overlay:hover .logo-element-hover-target{--text-opacity:1;color:#d2d6dc;color:rgba(210,214,220,var(--text-opacity));stroke:currentColor;opacity:.25}.logo-element-hover-target:hover{color:var(--color-enterprise-primary,#1890ff)!important;stroke:currentColor!important;opacity:1!important}",""]),o.locals={},e.exports=o},1613:function(e,t,r){"use strict";var o=r(151),n=r(1),l=(r(22),r(228),r(36),r(26),r(96),r(97),{"coffee-cup":{id:"1",backgroundImageUrl:"/img/coffee-cup-mockup.png",width:550,height:345,overlayX:190,overlayY:75,overlayWidth:160,overlayHeight:100,overlayRotation:0},"business-card":{id:"2",backgroundImageUrl:"/img/business-card-mockup.png",width:550,height:345,overlayX:125,overlayY:97,overlayWidth:300,overlayHeight:150,overlayRotation:0},"t-shirt":{id:"3",backgroundImageUrl:"/img/t-shirt-mockup.png",width:550,height:345,overlayX:165,overlayY:90,overlayWidth:207,overlayHeight:126,overlayRotation:0},preview:{id:"4",width:550,height:345,overlayX:165,overlayY:90,overlayWidth:207,overlayHeight:126,overlayRotation:0}}),c=r(425),d=r(300),f=r(42),h={components:{Watermark:c.a},props:{containerClass:{default:"overlay-container",type:String},shadow:{type:String,default:"border border-gray-100"},handleClickEvents:{type:Boolean,default:!1},transitionDelay:{default:2e3,type:Number},showWatermark:{type:Boolean,default:!1},imageClass:{default:"image",type:String},overlayNames:{required:!0,type:Array},startingIndex:{default:0,type:Number},logoSvg:{required:!0,type:String}},data:function(){return{draw:null,overlays:[],slideshow:!1,slideshowTimer:null,currentWidth:null,backgroundColor:"",index:0}},computed:{overlay:function(){return this.overlays[this.index]}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.index=e.startingIndex,r=e.overlayNames.map((function(e){return l[e]})),e.overlays=e.createOverlays(r),e.overlays.length>1&&(e.slideshow=!0),e.overlays.map((function(e){e.def.backgroundImageUrl&&((new Image).src=e.def.backgroundImageUrl)})),e.slideshow&&(e.slideshowTimer=setInterval((function(){e.incrementIndex()}),e.transitionDelay)),e.$nextTick((function(){e.currentWidth=e.$refs.background.clientWidth,e.overlay.def.backgroundImageUrl||e.drawPreview()}));case 7:case"end":return t.stop()}}),t)})))()},destroyed:function(){clearInterval(this.slideshowTimer)},methods:{createOverlays:function(defs){var e=this;return defs.map((function(t){return{id:e.getRandomId(),def:t,el:null}}))},getRandomId:function(){return Math.random().toString(36).substring(7)},incrementIndex:function(){this.index=++this.index%this.overlays.length,this.$emit("transitioned",this.overlay)},resizeIfNecessary:function(){this.$refs.background&&this.$refs.background.clientWidth!==this.currentWidth&&(this.currentWidth=this.$refs.background.clientWidth,this.drawImage())},drawImage:function(){this.overlay.def.backgroundImageUrl?this.drawOverlay():this.drawPreview()},drawPreview:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,o,n,l,c,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$nextTick();case 2:if(e.draw&&e.draw.remove(),r=e.$refs.overlay){t.next=6;break}return t.abrupt("return");case 6:if(o=Object(d.SVG)().addTo(r).size(e.overlay.def.width,e.overlay.def.height),(n=o.group()).svg(e.logoSvg),(l=n.children()[0]).width(e.overlay.def.width-0*e.overlay.def.width),o.viewbox(0,0,o.width(),o.height()),e.backgroundColor=l.data("background-color"),o.css({width:"100%",height:"100%"}),o.add(l),n.remove(),c=e.overlay.def.width/2-l.width()/2,f=e.overlay.def.height/2-l.height()/2,l.move(c,f),e.draw=o,e.handleClickEvents)try{e.addEventhandlers()}catch(e){}case 21:case"end":return t.stop()}}),t)})))()},drawOverlay:function(){var e=this.getRandomId();this.draw&&this.draw.remove();var t=this.$refs.background;if(t)try{this.draw=Object(d.SVG)(this.overlay.id).size(t.clientWidth,t.clientHeight);var r=this.draw.group();r.svg(this.logoSvg);var o=r.children()[0];this.draw.add(o),r.remove();var n=t.clientWidth/this.overlay.def.width,l=t.clientWidth/this.overlay.def.width,c=this.overlay.def.overlayWidth*n,f=this.overlay.def.overlayHeight*l,h=c/o.rbox().width;f/(o.rbox().height*h)<1&&(h=f/o.rbox().height),r.rotate(this.overlay.def.overlayRotation),o.size(c,f),o.move(this.overlay.def.overlayX*n,this.overlay.def.overlayY*l),o.id(e);var v=o.data("background-color");this.backgroundColor=v,this.draw.each((function(){"mask"!==this.parent().type&&("circle"===this.type&&this.attr({stroke:"#222222"}),this.attr("stroke")&&this.attr({stroke:"#222222"}),"none"!==this.attr("fill")&&"transparent"!==this.attr("fill")&&(this.attr("fill")===v?this.attr({fill:"transparent"}):"circle"===this.type?this.attr("stroke")&&this.attr({stroke:"#222222"}):this.attr("fill")&&this.attr({fill:"#222222"}),"circle"===this.type&&this.attr("stroke")&&this.attr({stroke:"#222222"})))}),!0)}catch(e){return}},addEventhandlers:function(){Object(f.a)(this.draw)}}},v=(r(1591),r(9)),y={components:{Logo:Object(v.a)(h,(function(){var e=this,t=e._self._c;return t("div",{ref:"background",staticClass:"overlay relative",class:e.containerClass,on:{click:function(t){return e.$emit("click",t)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("click",t)}}},[e.showWatermark?t("Watermark",{attrs:{background:e.backgroundColor}}):e._e(),e._v(" "),e.overlay?t("div",{ref:"overlay",staticClass:"preview-svg rounded transition-all duration-300",class:[e.shadow]}):e._e()],1)}),[],!1,null,null,null).exports},props:{originalPalette:{type:Object,default:function(){return{}}},handleClickEvents:{type:Boolean,default:!1},showWatermark:{type:Boolean,default:!1},newPalette:{type:Object,required:!0},setState:{type:Boolean,default:!1},logoSvg:{type:String,required:!0}},computed:{svg:function(){var e=Object(d.SVG)().addTo(this.$refs.hidden_recolor_element),svg=Object(o.f)(e,this.newPalette,this.logoSvg,this.originalPalette);return svg}}},m=Object(v.a)(y,(function(){var e=this,t=e._self._c;return t("div",[t("Logo",{staticClass:"rounded relative overflow-hidden",attrs:{"traverse-target":"","logo-svg":e.svg,"handle-click-events":e.handleClickEvents,"show-watermark":e.showWatermark,"overlay-names":["preview"]},on:{click:function(t){return e.$emit("select",{palette:e.newPalette,svg:e.svg})}}}),e._v(" "),t("div",{ref:"hidden-recolor-element",staticStyle:{display:"none"}})],1)}),[],!1,null,null,null);t.a=m.exports},2221:function(e,t,r){"use strict";r.r(t);r(16),r(15),r(13),r(18),r(19);var o=r(1),n=r(3),l=(r(22),r(54),r(51),r(1348)),c=r(1360),d=r(1551),content=r(133),f={mixins:[Object(content.d)(["editor/inputs/wordmark-multicolor"],!0),d.a],computed:{value:{get:function(){return this.editor.wordmark_multicolor},set:function(e){this.SET_WORDMARK_MULTICOLOR(e),this.sendEvents("wordmark_multicolor",e)}},disabledMessage:function(){return this.disabled?this.page.disabled_by_template:this.supportsMultiColor?null:this.page.disabled_by_palette},disabled:function(){var e,t,r,o;return null===(e=this.editor)||void 0===e||null===(t=e.current_logo)||void 0===t||null===(r=t.assets)||void 0===r||null===(o=r.template)||void 0===o?void 0:o.disable_wordmark_multicolor}}},h=r(9),v=Object(h.a)(f,(function(){var e=this,t=e._self._c;return e.enabled?t("Tippy",{staticClass:"block",attrs:{content:e.disabledMessage,force:!0}},[t("Lightswitch",{attrs:{label:e.contentReady?e.page.label:"",id:"editor-wordmark-multicolor",disabled:!!e.disabledMessage,active:!e.disabledMessage&&e.active,showLabelLoader:!e.page.label},on:{toggle:function(t){e.value=!e.value}}})],1):e._e()}),[],!1,null,null,null).exports,y={mixins:[Object(content.d)(["editor/inputs/slogan-multicolor"],!0),d.a],computed:{value:{get:function(){return this.editor.slogan_multicolor},set:function(e){this.SET_SLOGAN_MULTICOLOR(e),this.sendEvents("slogan_multicolor",e)}},disabledMessage:function(){return this.disabled?this.page.disabled_by_template:this.hasSlogan?this.supportsMultiColor?null:this.page.disabled_by_palette:this.page.disabled_by_state},disabled:function(){var e,t,r,o;return null===(e=this.editor)||void 0===e||null===(t=e.current_logo)||void 0===t||null===(r=t.assets)||void 0===r||null===(o=r.template)||void 0===o?void 0:o.disable_slogan_multicolor}}},m=Object(h.a)(y,(function(){var e=this,t=e._self._c;return e.enabled?t("Tippy",{staticClass:"block",attrs:{content:e.disabledMessage,force:!0}},[t("Lightswitch",{attrs:{label:e.contentReady?e.page.label:"",id:"editor-slogan-multicolor",disabled:!!e.disabledMessage,active:!e.disabledMessage&&e.active,showLabelLoader:!e.contentReady},on:{toggle:function(t){e.value=!e.value}}})],1):e._e()}),[],!1,null,null,null).exports,_=r(34),O=r(1438),w=r(12);function k(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var j={components:{ColorPicker:O.a},props:{mappedPalette:{type:Array,required:!0},palette:{type:Object,required:!0},logo:{type:Object,required:!0},disabled:{type:Boolean}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(_.c)({updating:"editor/loading_overlay_visible"})),methods:{changed:function(e,t){w.a.$emit(w.b.EditorSetCustomPalette,{property:e,hex:t})}}},S=j,x=Object(h.a)(S,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"space-y-2"},e._l(e.mappedPalette,(function(r){return t("div",{key:r.slug,staticClass:"flex items-center justify-between"},[t("span",{staticClass:"font-medium text-cool-gray-500 mr-2 capitalize"},[e._v("\n      "+e._s(r.label)+":\n    ")]),e._v(" "),t("div",{staticClass:"w-24"},[t("ColorPicker",{attrs:{color:r.hex,disabled:e.disabled||e.updating,property:r.slug,alignment:"right","show-gradients":"background"!==r.slug},on:{changed:function(t){return e.changed(r.slug,t)}}})],1)])})),0)}),[],!1,null,null,null).exports,P=r(1529),C=(r(86),r(20)),L=(r(47),r(27),r(196),r(59),r(1426)),E=r(1613),R=r(168),T=r(33),I=r(1369),D=r(1536),M=r(1540),$=r(83);function F(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function W(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?F(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):F(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var N={components:{InfiniteLoader:L.a,PalettePreview:E.a,Traverse:D.a,EditorClientLogo:M.a,Skeleton:R.a},props:{colorFilter:{type:String,default:null}},data:function(){return{rendered_palettes:[],original_palette:{},is_usable:!1,svg_copy:"",hues:I.c,sorted_palettes:[],infiniteLoadKey:+new Date}},computed:W(W({shouldRenderList:function(){return this.palettes.length>0&&this.svg_copy&&this.assetsLoaded&&this.editor.logo_preset.svg},filteredPalettes:function(){var filter=this.colorFilter;if(!filter)return this.sorted_palettes;var e=[filter,"metallic_gradient"];return Object(C.a)(this.sorted_palettes).filter((function(t){var r=t.hues;return!(!r||!r.length)&&r.find((function(t){var r=t.name;return e.includes(r)}))}))}},Object(_.e)({palette_hex:function(e){return e.editor.logo_preset.palette_hex},svg:function(e){return e.editor.logo_preset.svg},palettes:function(e){return e.editor.palettes},logo:function(e){return e.editor.logo_preset},editor:function(e){return e.editor},flags:function(e){return e.flags}})),Object(_.c)({assetsLoaded:"editor/assets_loaded"})),watch:{palette_hex:function(){this.svg_copy||(this.svg_copy=this.logo.svg)}},mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w.a.$on(w.b.EditorSelectLogo,e.selectFromFavourites),w.a.$on(w.b.EditorSetColorFilter,e.resetPalettes),e.svg_copy=e.logo.svg,e.original_palette=W({},e.palette_hex),0!==e.palettes.length){t.next=7;break}return t.next=7,e.fetchList("palettes");case 7:r=Object(C.a)(e.palettes),e.editor.gradient_palettes&&(r=(o=r).concat.apply(o,Object(C.a)(e.editor.gradient_palettes))),Object($.c)(r),e.sorted_palettes=r,e.sortCurrentPaletteToTopOfList(),e.renderNextPageOfPalettes();case 13:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){w.a.$off(w.b.EditorSelectLogo,this.selectFromFavourites),w.a.$off(w.b.EditorSetColorFilter,this.resetPalettes)},methods:W(W({selectFromFavourites:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.selectThenRefresh(e.assets.palette),t.original_palette=W({},t.palette_hex),0!==t.palettes.length){r.next=5;break}return r.next=5,t.fetchList("palettes");case 5:t.rendered_palettes=[],t.sorted_palettes=Object(C.a)(t.palettes),t.sortCurrentPaletteToTopOfList(),t.renderNextPageOfPalettes();case 9:case"end":return r.stop()}}),r)})))()},resetPalettes:function(){this.rendered_palettes=[],this.resetInfiniteLoader()},resetInfiniteLoader:function(){this.infiniteLoadKey=+new Date},sortCurrentPaletteToTopOfList:function(){var e=this,t=this.sorted_palettes.findIndex((function(t){return e.isSelected(t)}));if(t>-1){var r,o=this.sorted_palettes.splice(t,1);(r=this.sorted_palettes).unshift.apply(r,Object(C.a)(o))}},handleInfiniteLoadRequest:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.renderNextPageOfPalettes(),t.rendered_palettes.length===t.filteredPalettes.length?e.complete():e.loaded();try{t.$nextTick().then((function(){try{t.$refs.traverse.run()}catch(e){}}))}catch(e){}case 3:case"end":return r.stop()}}),r)})))()},isSelected:function(e){var t=this.logo.palette_hex;return e.primary===t.primary&&e.secondary===t.secondary&&e.accent===t.accent&&e.background===t.background},selectThenRefresh:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.SET_PALETTE_HEX(e),t.SET_LOGO_PRESET_PROPERTY({id:e.id,resource:T.a.Palettes}),w.a.$emit(w.b.EcommerceSelectContent,{type:"palette",id:t.logo.palette_hex.id||e.id}),w.a.$emit(w.b.EditorRefreshLogo);case 4:case"end":return r.stop()}}),r)})))()},paletteSelect:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o,svg;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.palette,svg=e.svg,t.SET_PALETTE_HEX(o),t.SET_LOGO_PRESET_PROPERTY({id:o.id,resource:T.a.Palettes}),t.setSvg(svg),w.a.$emit(w.b.EcommerceSelectContent,{type:"palette",id:o.id}),r.next=7,t.fetchNewLogoFromState({hide_loader:!0});case 7:case"end":return r.stop()}}),r)})))()},renderNextPageOfPalettes:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(r=e.rendered_palettes).push.apply(r,Object(C.a)(e.filteredPalettes.slice(e.rendered_palettes.length,e.rendered_palettes.length+5)));case 1:case"end":return t.stop()}}),t)})))()}},Object(_.b)({fetchNewLogoFromState:"editor/fetchNewLogoFromState",fetchList:"editor/fetchList"})),Object(_.d)({SET_LOGO_PRESET_PROPERTY:"editor/SET_LOGO_PRESET_PROPERTY",setUpdating:"editor/TOGGLE_LOADING_OVERLAY_VISIBILITY",SET_PALETTE_HEX:"editor/SET_PALETTE_HEX",setSvg:"editor/SET_SVG"}))},U=Object(h.a)(N,(function(){var e=this,t=e._self._c;return t("div",[e.shouldRenderList?e._e():t("div",{staticClass:"space-y-4 mt-1"},e._l(3,(function(e){return t("Skeleton",{key:"palette-skeleton-".concat(e),staticClass:"w-full",style:{"aspect-ratio":"8 / 5"}})})),1),e._v(" "),e.shouldRenderList?t("Traverse",{ref:"traverse",staticClass:"space-y-4 mt-1",attrs:{id:"palette-results","initial-tabindex":2,"infinite-wrapper":""}},e._l(e.rendered_palettes,(function(r){return t("div",{key:r.id,staticClass:"border-2 border-transparent rounded cursor-pointer transition-all duration-200 transform hover:border-enterprise-primary",class:{"scale-105 border-4 border-enterprise-primary":e.isSelected(r)},attrs:{id:"editor-palette-preview-".concat(r.id),"traverse-target":""}},[e.flags.client_side_logos?t("EditorClientLogo",{key:e.editor.current_logo.id,attrs:{logo:e.editor.current_logo,palette:r},on:{logoselected:function(t){return e.selectThenRefresh(r)}}}):t("PalettePreview",{staticClass:"border-2 border-transparent rounded cursor-pointer transition-all duration-200 transform hover:border-enterprise-primary",class:{"scale-105 border-4 border-enterprise-primary":e.isSelected(r)},attrs:{"new-palette":r,"original-palette":e.original_palette,"logo-svg":e.svg_copy},on:{select:e.paletteSelect}})],1)})),0):e._e(),e._v(" "),t("client-only",[t("InfiniteLoader",{key:e.infiniteLoadKey,on:{infinite:e.handleInfiniteLoadRequest}})],1)],1)}),[],!1,null,null,null).exports,A=r(151),G=r(535),B=r(1594);function H(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var Y={components:{ControlTitle:l.a,ControlSub:c.a,WordmarkMulticolor:v,SloganMulticolor:m,ColorPreset:P.a,PaletteFields:x,PaletteSelector:U},mixins:[Object(content.d)(["editor/controls/colors"]),B.a,content.e],data:function(){return{throttledUpdate:null,debouncedFetch:null,colorFilter:null}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?H(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):H(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({disabled:function(){return!this.features.includes("palette")},mappedPalette:function(){return Object(A.c)(this.logo)}},Object(_.e)({palette_hex:function(e){return e.editor.logo_preset.palette_hex},features:function(e){return e.editor.features},logo:function(e){return e.editor.logo_preset}})),mounted:function(){var e=this;w.a.$on(w.b.EditorSetCustomPalette,this.setCustomPalette),this.debouncedFetch=Object(G.a)(Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("editor/fetchNewLogoFromState");case 2:case"end":return t.stop()}}),t)}))),200),this.throttledUpdate=Object(G.a)((function(t,r){e.$store.dispatch("editor/setPaletteProperty",{property:t,value:r})}),75)},beforeDestroy:function(){w.a.$off(w.b.EditorSetCustomPalette,this.setCustomPalette)},methods:{setCustomPalette:function(e){var t=e.property,r=e.hex;this.throttledUpdate(t,r),this.debouncedFetch()},setColorFilter:function(e){this.colorFilter=e,w.a.$emit(w.b.EditorSetColorFilter,e)}}},X=Y,z=Object(h.a)(X,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"space-y-6"},[t("section",[t("ControlTitle",{attrs:{loading:!e.contentReady,title:e.contentReady?e.page.color_options.title:""}}),e._v(" "),t("WordmarkMulticolor"),e._v(" "),t("SloganMulticolor")],1),e._v(" "),t("section",[t("ControlTitle",{attrs:{loading:!e.contentReady,title:e.contentReady?e.page.custom_palette.title:""}}),e._v(" "),t("PaletteFields",{attrs:{logo:e.params.logo,disabled:e.params.disabled,palette:e.params.palette_hex,"mapped-palette":e.params.mappedPalette}})],1),e._v(" "),t("section",[t("ControlTitle",{attrs:{loading:!e.contentReady,title:e.contentReady?e.page.color_presets.title:""}}),e._v(" "),t("ControlSub",{attrs:{loading:!e.contentReady,title:e.contentReady?e.page.color_presets.subtitle:""}}),e._v(" "),t("ColorPreset",{staticClass:"mb-6",attrs:{selected:[e.params.colorFilter]},on:{clear:function(t){return e.setColorFilter(null)},remove:function(t){return e.setColorFilter(null)},select:function(t){return e.setColorFilter(t)}}}),e._v(" "),e.disabled?e._e():t("PaletteSelector",{attrs:{"color-filter":e.colorFilter}})],1)])}),[],!1,null,null,null);t.default=z.exports},601:function(e,t,r){r(16),r(15),r(13),r(18),r(19);var o=r(45),n=r(46),l=["class","staticClass","style","staticStyle","attrs"];function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}e.exports={functional:!0,render:function(e,t){var r=t._c,data=(t._v,t.data),d=t.children,f=void 0===d?[]:d,h=data.class,v=data.staticClass,style=data.style,y=data.staticStyle,m=data.attrs,_=void 0===m?{}:m,O=n(data,l);return r("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){o(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,v],style:[style,y],attrs:Object.assign({fill:"currentColor",viewBox:"0 0 20 20"},_)},O),f.concat([r("path",{attrs:{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"}})]))}}}}]);
//# sourceMappingURL=c4116ec.js.map